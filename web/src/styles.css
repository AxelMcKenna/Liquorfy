@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Apple-inspired Light theme with subtle gray tones */
    --background: 0 0% 100%;               /* Pure white #FFFFFF */
    --background-secondary: 0 0% 97%;      /* Off-white #F7F7F7 */
    --background-tertiary: 0 0% 96%;       /* Light gray #F5F5F5 */

    --foreground: 0 0% 13%;                /* Dark gray #212121 */
    --foreground-secondary: 0 0% 40%;      /* Medium gray #666666 */
    --foreground-tertiary: 0 0% 60%;       /* Light gray #999999 */

    --card: 0 0% 100%;                     /* White cards */
    --card-foreground: 0 0% 13%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 13%;

    --primary: 142 76% 38%;                /* Apple-like green #1fb956 */
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 97%;                 /* Very light gray #F7F7F7 */
    --secondary-foreground: 0 0% 13%;

    --muted: 0 0% 96%;                     /* Subtle backgrounds #F5F5F5 */
    --muted-foreground: 0 0% 40%;          /* Medium gray #666666 */

    --accent: 142 71% 45%;                 /* Lighter green for hover */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;              /* Red for errors */
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 90%;                    /* Subtle border #E5E5E5 */
    --input: 0 0% 90%;
    --ring: 142 76% 38%;                   /* Green focus rings */

    --promo: 14 100% 60%;                  /* Orange for sales #FF6B35 */
    --gold: 45 100% 51%;                   /* Gold for premium #FFD700 */

    --radius: 0.75rem;                     /* Apple-like rounded corners */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    /* Apple San Francisco system font stack */
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", "Segoe UI", "Roboto", sans-serif;
    font-optical-sizing: auto;
    letter-spacing: -0.011em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* iOS safe area support */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Ensure root fills viewport on iOS */
  html, body, #root {
    height: 100%;
    overflow-x: hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    /* Use same system font for consistency */
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", "Segoe UI", "Roboto", sans-serif;
    font-weight: 600;
    letter-spacing: -0.022em;
  }
}

@layer utilities {
  /* Apple-inspired subtle shadows */
  .card-shadow {
    @apply bg-white border border-border;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.04), 0 1px 2px 0 rgba(0, 0, 0, 0.02);
  }

  .card-shadow-hover {
    @apply transition-all duration-200;
  }

  .card-shadow-hover:hover {
    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08), 0 2px 4px 0 rgba(0, 0, 0, 0.04);
  }

  .card-shadow-lg {
    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08), 0 2px 4px 0 rgba(0, 0, 0, 0.04);
  }

  /* Text color utilities using design system */
  .text-primary-gray {
    color: hsl(var(--foreground));
  }

  .text-secondary-gray {
    color: hsl(var(--foreground-secondary));
  }

  .text-tertiary-gray {
    color: hsl(var(--foreground-tertiary));
  }

  /* Background utilities */
  .bg-tertiary {
    background-color: hsl(var(--background-tertiary));
  }

  .bg-secondary {
    background-color: hsl(var(--background-secondary));
  }

  /* Border utilities */
  .border-subtle {
    border-color: hsl(var(--border));
  }

  /* Rounded corners - consistent with Apple design */
  .rounded-card {
    border-radius: var(--radius);
  }

  .rounded-card-lg {
    border-radius: calc(var(--radius) * 1.33);
  }

  .rounded-card-xl {
    border-radius: calc(var(--radius) * 2);
  }

  /* Performance optimizations */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-bg {
    will-change: background, border-color;
  }

  /* Common card patterns */
  .glass-card {
    @apply bg-white border border-border rounded-card-lg card-shadow;
  }

  .glass-card-hover {
    @apply glass-card card-shadow-hover hover:-translate-y-1;
  }

  /* Promo badge utility */
  .promo-badge {
    @apply bg-promo text-white px-5 py-1 text-xs font-semibold tracking-wide shadow-md;
  }

  /* Icon button with background */
  .icon-badge {
    @apply p-3 bg-primary rounded-xl;
  }

  .icon-badge-large {
    @apply p-6 rounded-full;
  }
}
